---
title: CSS使用
---

# CSS3 使用

## 兼容性

目前主流浏览器已经支持绝大部分 CSS3 属性

旧版本的浏览器对 CSS3 支持性会较差，浏览器厂商一般通过添加 CSS3 前缀来解决

也称为浏览器厂商前缀

| 浏览器         | 厂商前缀 |
| -------------- | -------- |
| Chrome、Safari | -webkit- |
| Firefox        | -moz-    |
| IE             | -ms-     |
| Opera          | -o-      |

## 新增字体大小单位 rem

HTML 根元素默认字体大小为 16px，也称为基础字体大小

Chrome 浏览器不支持 12px 以下的字体大小，其他浏览器没问题

rem 不仅可以设置字体大小，也可以设置元素的宽高，对于适配移动端，可以使用 rem

- em：根据父元素字体大小进行设置，是父元素的倍数

- rem：root em 根据 HTML 根元素字体的大小进行设置，是根元素的倍数

## 新增选择器

### 结构性伪类

根据页面中元素的结构来选择元素

#### child 相关

```css
E:first‐child/last‐child    父元素中的首/末E元素
E:nth‐child(n)/nth‐last‐child(n)    父元素中的正数/倒数第n个E元素，n还支持xn+y、odd、even写法
E:only‐child    父元素中唯一的子元素E
```

#### type 相关

```css
E:first‐of‐type/last‐of‐type    同类型、同级别中的首/末E元素
E:nth‐of‐type(n)/nth‐last‐of‐type(n)    同类型、同级别中的正数/倒数第n个E元素
E:only‐of‐type    同类型、同级别中的唯一元素E
```

### 元素状态伪类

根据元素所处的状态来选择元素，类似于 a:hover

```css
E:enabled    可用状态的E元素
E:disabled    禁用状态的E元素
E:read‐only    只读状态的E元素
E:focus    得到焦点的E元素
E:checked    选中状态的E元素
```

### 属性选择器

```css
E[attr]    有属性attr的E元素
E[attr="val"]    属性attr的值为val的E元素
E[attr^="val"]    属性attr的值以val开头的E元素
E[attr$="val"]    属性attr的值以val结尾的E元素
E[attr*="val"]    属性attr的值包含val的E元素
```

### 其他选择器

```css
e~f选择同级别中e元素之后的f元素: root 文档根元素，即<html>元素;
```

## 新增样式

### 文本效果

#### 文本阴影

语法：

```css
text‐shadow: h‐shadow v‐shadow blur color;
    h‐shadow    必需，水平阴影的偏移位置，右偏是正方向
    v‐shadow    必需，垂直阴影的偏移位置，下偏是正方向
    blur    可选，模糊的距离
    color    可选，阴影颜色
注：可以指定多组数据，多组数据之间以逗号隔开
```

#### 文本裁剪

语法：

```css
text‐overflow: clip|ellipsis|string;
    clip    裁剪多余文字
    ellipsis    以省略号表示裁剪文字
    string    以指定字符串表示裁剪文字（非所有浏览器都支持，Firefox支持）
```

超出父级宽度以省略号显示

```css
/* 强制不换行 */
white-space: nowrap;
/* 超出隐藏 */
overflow: hidden;
/* 隐藏部分为省略号 */
text-overflow: ellipsis;
```

文字换行对齐

```css
text-align: justify;
text-justify: newspaper;
word-break: break-all;
```

#### 单词换行

都是针对西文而言，用来设置是否对长单词进行断句，对中文没意义

语法：

```css
word-wrap: normal|break-word;　
    normal    使用浏览器默认的换行规则，有可能产生字符串溢出
    break‐word    允许在长单词或URL地址中间换行
```

```css
word‐break: normal|break‐all;
    normal 使用浏览器默认的换行规则，有可能产生字符串溢出
    break‐all    允许在长单词或URL地址中间换行
```

共同点：都是用来对长单词进行强行断句

不同点：

- **word-wrap:break-word 会将长单词放在一个新行里**，如果新行还是放不下，则会对长单词进行强制断句
- **word-break:break-all 不会把长单词放在一个新行里**，如果当前行放不下，则会直接进行强制断句

### 圆角边框

语法：

```css
border‐radius: 左上 右上 右下 左下;
border-radius是一个简写属性，用于设置四个 border-*-radius 属性，如 border-top-left-radius
```

### 背景

#### 背景图片

设置背景图片的大小，语法：

```css
background-size: length|percentage|cover|contain;
    length    设置背景图像的宽度和高度，第一个值表示宽度，第二个值表示高度。如果只设置宽度，则高度会根据图片宽高比自动进行缩放
    percentage    以父元素的百分比来设置背景图像的宽度和高度
    cover    保持图片宽高比不变，铺满整个容器的宽高，而图片多出的部分则会被截掉
    contain    保持图片宽高比不变，缩放至图片自身能完全显示出来，所以容器会有留白区域
```

#### 渐变背景

线性渐变，语法：

```css
background‐image: linear‐gradient(direction,fromColor,toColor...);
    direction    渐变的方向或角度，取值：to top、to right、度数(以deg为单位，按顺时针方向，指定过渡在哪个方向结束)
    fromColor    渐变开始的颜色，从...颜色到...
    toColor    渐变结束的颜色
注：还可以在颜色后面再加一个值，指定各颜色的位置
```

放射性渐变，语法：

```css
background‐image: radial‐gradient(type‐position,fromColor,toColor...);
    type-position
    (1)渐变的形状
             circle 圆
        ellipse 椭圆
    (2)设置半径的长度
        closest-side 指定径向渐变的半径从圆心到离圆心最近的边
        closest-corner 指定径向渐变的半径从圆心到离圆心最近的角
        farthest-side 指定径向渐变的半径从圆心到离圆心最远的边
        farthest-corner 指定径向渐变的半径从圆心到离圆心最远的角
    (3)渐变圆心的位置
        关键字：at top、at center...
            具体值：at 100px 100px
    fromColor    渐变开始的颜色，从...颜色到...
    toColor    渐变结束的颜色
```

重复性渐变，语法：

```css
background‐image: repeating‐linear‐gradient(direction,fromColor,toColor number); 　重复的线性渐变
background‐image: repeating‐radial‐gradient(type‐position,fromColor,toColor number);     重复的放射性渐变　
```

### 盒子属性

#### 盒子大小

默认情况下，按照盒子模型的规则，一个盒子所占空间为：width/height + padding + border + margin

设置元素的 width 和 height 是否包含 内边距 padding 和 边框 border，语法：

```css
box-sizing: content-box|border-box content-box 不包含内边距和边框(默认值) border-box
  包含边框和内边距 注：并不包含margin，也就是说margin是要单独计算大小的;
```

#### 尺寸调节

对元素的尺寸进行调整，语法：

```css
resize: none|both|horizontal|vertical;
    none    无法调整元素的尺寸
    both    可调整元素的高度和宽度
    horizontal    可调整元素的宽度
    vertical    可调整元素的高度
注：需要配合overflow属性使用，一般设置为auto
```

## 新增效果

### 变形 transform

transform 单词本义是改变、转换，能够对元素进行移动、缩放、转动、拉长或拉伸，称为变形或转换

包含以下方法：

- 平移：translate(x 位置,y 位置)
  语法：

```css
/* 分别设置横向和纵向移动多少 */
transform: translateX(x);
transform: translateY(y);
/* 横向移动x，纵向移动y */
transform: translate(x, y);
```

- 缩放：scale(x 倍数,y 倍数)
  语法：

```css
/*分别设置横向和纵向缩放多少*/
transform: scaleX(x);
transform: scaleY(y);
/*横向缩放x，纵向缩放y*/
transform: scale(x, y);
```

- 旋转：rotate(角度 deg)
  语法：

```css
transform: rotate(度数);
```

- 倾斜：skew(角度 deg)
  语法：
  /_ 分别设置横向和纵向倾斜多少 */
  transform:skewX(x);
  transform:skewY(y);
  /* 横向倾斜 x，纵向倾斜 y _/
  transform:skew(x,y);

```text
~~~ css
```

- **可以叠加多个变形操作，多个之间以空格隔开**

```css
transform: scale(2, 2) translate(100px, 100px) rotate(30deg) skew(10deg, 20deg);
```

- **可以指定变形的基准点，默认为元素中心点**

```css
transform‐origin: x轴 y轴;
    x轴    left center right，
    y轴    top    center bottom
注：除了可以使用关键字，也可使用像素、百分比来设置
```

### 过渡 transition

transition 单词本义就是过渡，过渡就是当元素从一种样式变换为另一种样式时为元素添加效果

包含以下属性：

- transition-property 过渡的 CSS 属性名
- transition-duration 过渡的时间，默认是 0
- transition-timing-function 过滤的速度曲线，默认是 ease，另有 linear、ease-in、ease-out、ease-in-out 等
- transition-delay 过渡延时，默认是 0
- transition 简写属性 `transition: property duration timing-function delay;`

### 动画 animation

animation 单词本义就是动画，动画是使元素从一种样式逐渐变化为另一种样式的效果

步骤：

1. 定义动画
   使用`@keyframes`定义动画过程中的关键帧，其实就是定义不同时间点的 CSS 样式
   语法：

```css
@keyframes 动画的名称{
  百分比{
    样式名:样式值;
  }
  ......
}
注：使用百分比来定义时间点，或通过关键词"from"和"to"，等价于0%和100%，建议使用百分比形式
    　0%是动画的开始时间，100%动画的结束时间。
```

1. 调用动画
   在某个元素上应用动画，包含以下属性： - animation-name 使用@keyframes 定义的动画名称 - animation-duration 持续时间，默认是 0 - animation-timing-function 速度曲线，默认是 ease - animation-delay 延时时间，默认是 0 - animation-iteration-count 播放次数，默认是 1，可以是数字，也可以是 infinite(无限次) - animation-direction 播放方向，默认是 normal 表示正常播放，alternate 表示正反向轮流播放 - animation 简写属性 `animation: name duration timing-function delay iteration-count direction;`

## 字体

### 简介

在 CSS3 之前，网页上只能使用已在用户计算机上安装好的字体。

在 CSS3 中提供了 `@font-face` 规则，通过 `@font-face` 可以在网页上引用外部的独立字体文件

语法：

```css
/* 通过@font-face定义加载外部字体文件 */
@font-face {
  font-family: 自定义字体名称;
  src: 字体文件的路径;
}
```

常见的字体文件类型：`.ttf`、`.otf`、`.woff`、`.eot`、`.svg`等

## 其他

### 媒体查询

`@media`媒体查询可以针对不同的屏幕尺寸设置不同的样式，能够判断设备尺寸进行不同样式的切换，是响应式布局的基础

语法：

```css
@media 媒体类型 and (媒体属性) {
  选择器{
    样式规则
  }
}
```

媒体类型：

- all 所有媒体（默认值）
- screen 电脑屏幕、平板电脑、手机等彩色屏幕
- print 打印机
- tv 电视
- ......
  媒体属性：
- min-width 　最小宽度
- max-width 　最大宽度
- min-height 　最小高度
- max-height 　最大高度
- ......

### 移动设备响应式

viewport 视口是用户网页的可视区域，浏览器实际显示内容的区域，也称为视窗`Viewport`

为页面增加以下 meta 标签以适应移动设备

```css
<meta name="viewport" content="width=device‐width,initial‐scale=1.0,minimum‐scale=1.0,maximum‐ scale=1.0,user‐scalable=no">
```

常用设置：

- width=device‐width 页面大小与屏幕等宽
- initial‐scale=1.0 初始缩放比例为 1.0（不缩放）
- minimum‐scale=1.0 最小缩放比例
- maximum‐scale=1.0 最大缩放比例
- user‐scalable=no 是否允许用户缩放

## CSS 性能优化

### 使用语法缩写

使用 CSS 缩写可以减少 CSS 文件的大小，并使其更为易读。例如：颜色缩写（缩写 16 进制的色彩值）、盒尺寸缩写、边框缩写、背景缩写和文字缩写。

## 无障碍设计

优先采用用户样式表中指定的重要规则是一项为色弱或色盲人士提供便利的设计考虑。
