---
title: MySQL表库管理
---

# MySQL 表库管理

## 数据类型

​ 整数：int

​ 小数：float、double

​ 字符串：

- char 定长字符串，如 char(10)，最多存储 10 个字符，如果不足 10 个字符，仍然占 10 个字符的空间
- varchar 变长字符串，如 varchar(10)，最多存储 10 个字符，如果不足 10 个字符，则占实际字符个数的空间
- text 存储大文本，如一篇文章、日记等

​ 日期时间：

- date 年月日
- time 时分秒
- datetime 年月日时分秒，如果未指定值，则默认为 null
- timestamp 年月日时分秒，如果未指定值，则默认为当前时间

​ 二进制：blob 存储二进制数据，如图片、音乐等

### 创建表

​ 语法：

```sql
create table 表名
(
  列名 数据类型,
    列名 数据类型,
    列名 数据类型
) charset=utf8;
```

​ 例：创建一个学生表，包含编号、姓名、年龄、性别、身高、出生日期

```sql
create table student
(
  id int,
  name varchar(10),
  age int,
  sex char(6),
  height double,
  birthday date
) charset=utf8;

insert into student values (1001,'tom',18,'male',180.5,'1999-2-14');
```

### 删除表

​ 语法：

```sql
drop table 表名;
drop table if exists 表名;
```

​ 例：删除 student 表

```sql
drop table if exists student;
```

### 创建库

​ 语法：

```sql
create database 数据库名 charset utf8;
或
create database if not exists 数据库名 charset utf8;
```

​ 示例：

```sql
create database shop charset utf8;
```

### 删除库

​ 语法：

```sql
drop database 数据库名;
drop database if exists 数据库名;
```

​ 示例：

```sql
drop database shop;
```

## 约束

​constraint 约束是对表中数据的一种限制，保证数据的完整性和有效性

### 约束分类

​ 有五种约束：

- 主键约束 primary key
  用来唯一的标识一条记录(数据)，本身不能为空
- 唯一约束 unique
  不允许出现重复值
- 检查约束 check
  判断数据是否符合指定条件
  **注：MySQL 会对 check 约束进行分析，但会忽略 check 约束，不强制执行此约束**
- 非空约束 not null
  不允许为 null，但可以为空字符串
- 外键约束 foreign key
  约束两表之间的关联关系，表示子(从)表的列与父表的列有所联系

### 添加约束

​ 班级表 class：

- c_id 班级编号
- c_name 班级名称
- c_desc 班级描述

```sql
create database tiger charset utf8;
use tiger;

create table class
(
  c_id int primary key, -- 将c_id作为主键，用来标识每个班级
    c_name varchar(20) not null unique, -- 该列不能为null
    c_desc varchar(200)
);

insert into class (c_id,c_name,c_desc) values (101,'前端1班','Web前端开发1班');
insert into class (c_id,c_name,c_desc) values (102,'前端2班','Web前端开发2班');
```

​ 学生表 student：

- id 学号
- name 姓名
- IDCard 身份证
- class_id 所在班级编号

```sql
create table student
(
  id int primary key auto_increment, -- 自动增长，从1开始，每次自增1
    name varchar(50) not null,
    IDCard varchar(18) unique, -- 该列必须唯一
    class_id int,
    foreign key (class_id) references class(c_id) -- 外键约束，引用主表中的主键
) auto_increment=10001;  -- 指定自动增长的起始值

insert into student (name,IDCard,class_id) values ('tom','320382199912142853',101);
insert into student values (null,'alice','320382199912142856',101);
```

​ 注意：

- 班级表 class 为**主表**，学生表 student 为**从表**，student 表中的**外键**class_id 引用的是 class 表中的**主键**c_id
- 创建表时，必须先创建主表，再创建从表
- 删除表时，必须先删除从表，再删除主表
- 查看表的所有信息（约束）：`show create table 表名;`

::: tip
第三方工具推荐：Navicat、SQLyog
:::
